# ==============================================================================
# DeepTutor Environment Configuration
# ==============================================================================
# Copy this file to `.env` and fill in the values.
# Required fields are marked with [Required], optional fields with [Optional].

# ==============================================================================
# Server Ports
# ==============================================================================

# [Optional] Backend API server port
BACKEND_PORT=8001

# [Optional] Frontend server port
FRONTEND_PORT=3782

# ==============================================================================
# LLM Configuration (Large Language Model)
# ==============================================================================
# Primary LLM for all AI operations (chat, research, solve, etc.)

# [Required] Provider binding: openai, azure_openai, anthropic
LLM_BINDING=openai

# [Required] Model name (e.g., gpt-4o, deepseek-chat, claude-3-5-sonnet)
LLM_MODEL=gpt-4o

# [Required] API key for the LLM provider
LLM_API_KEY=sk-xxx

# [Required] API endpoint URL
LLM_HOST=https://api.openai.com/v1

# [Optional] API version (required for Azure OpenAI)
LLM_API_VERSION=

# ==============================================================================
# Embedding Configuration
# ==============================================================================
# Embedding model for RAG (Retrieval-Augmented Generation)

# [Optional] Provider: openai, azure_openai, jina, cohere, ollama
EMBEDDING_BINDING=openai

# [Required] Model name
EMBEDDING_MODEL=text-embedding-3-small

# [Required] API key
EMBEDDING_API_KEY=sk-xxx

# [Required] API endpoint URL
EMBEDDING_HOST=https://api.openai.com/v1

# [Required] Vector dimensions (must match model output)
EMBEDDING_DIMENSION=3072

# [Optional] API version (for Azure OpenAI)
EMBEDDING_API_VERSION=

# ==============================================================================
# TTS Configuration (Text-to-Speech)
# ==============================================================================
# Optional: Enable audio narration features

# [Optional] Provider: openai, azure_openai, cosyvoice (local, free)
TTS_BINDING=cosyvoice

# [Optional] TTS model name (for openai/azure_openai)
TTS_MODEL=tts-1

# [Optional] API key (can be same as LLM_API_KEY for OpenAI)
TTS_API_KEY=sk-xxx

# [Optional] API endpoint URL
TTS_URL=https://api.openai.com/v1

# [Optional] Voice: alloy, echo, fable, onyx, nova, shimmer (for openai)
TTS_VOICE=alloy

# [Optional] API version (for Azure OpenAI)
TTS_BINDING_API_VERSION=

# CosyVoice Configuration (local TTS, free)
# Set TTS_BINDING=cosyvoice to use
# Version selection: 1.0, 2.0, 3.0 (recommended)
COSYVOICE_VERSION=3.0

# Inference mode: instruct (recommended), zero_shot, sft, cross_lingual
COSYVOICE_MODE=instruct

# Conda environment name
COSYVOICE_CONDA_ENV=DeepTutor-env-3.11

# Default voice (CosyVoice options: 中文女, 中文男, 英文女, etc.)
# Note: This is overridden by TTS_VOICE when TTS_BINDING=cosyvoice
COSYVOICE_VOICE=中文女

# Optional: Custom model path (auto-detected if not specified)
# ModelScope downloads to: ~/.cache/modelscope/hub/FunAudioLLM/Fun-CosyVoice3-0.5B-YYYYMMDD
# COSYVOICE_MODEL_DIR=/Users/berton/.cache/modelscope/hub/FunAudioLLM/Fun-CosyVoice3-0.5B-2512

# ==============================================================================
# Search Configuration (Web Search)
# ==============================================================================
# Optional: Enable web search capabilities

# [Optional] Provider: perplexity, tavily, serper, jina, exa
SEARCH_PROVIDER=perplexity

# [Optional] API key for your chosen search provider
# Perplexity: https://www.perplexity.ai/settings/api
# Tavily: https://tavily.com
# Serper: https://serper.dev
# Jina: https://jina.ai
# Exa: https://dashboard.exa.ai/api-keys
SEARCH_API_KEY=pplx-xxx

# ==============================================================================
# Cloud Deployment Configuration
# ==============================================================================
# Required when deploying to cloud/remote servers

# [Optional] External API base URL for cloud deployment
# Set this to your server's public URL when deploying remotely
# Example: https://your-server.com:8001 or https://api.yourdomain.com
NEXT_PUBLIC_API_BASE_EXTERNAL=

# [Optional] Direct API base URL (alternative to above)
NEXT_PUBLIC_API_BASE=

# ==============================================================================
# Debug & Development
# ==============================================================================

# [Optional] Disable SSL verification (not recommended for production)
DISABLE_SSL_VERIFY=false

# [Optional] RAG tool module log level: DEBUG, INFO, WARNING, ERROR
RAG_TOOL_MODULE_LOG_LEVEL=INFO
